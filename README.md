# Django-Email-Async-Reader

## Проект является выполнением тестового задания на вакансию Backend-разработчик в COMSOFTLAB.

## О проекте:

Проект представляет из себя сервис, позволяющий читать письма, скачивать вложенные файлы из различных почтовых ящиков: Gmail, Yandex, Mail. 
После добавления нужной почты в систему, она становится доступной в селект-баре в верху страницы. После выбора почтового ящика, начинается обработка:
первый этап - импортирование новых сообщений, которые еще не были добавлены в систему; второй этап - загрузка всех сообщений из баз данных.
Такой подход обеспечивает кеширование данных, что ускоряет повторную загрузку сообщений.
Все этапы обработки почтового ящика отображены в прогресс-баре: сколько сообщений прочитано; сколько сообщений из системы отображено пользователю

## Демонстрация работы

### Чтение сообщений:
![Чтение сообщений](https://s1.gifyu.com/images/SO1ef.gif)

### Загрузка импортированных сообщений:
![Загрузка сообщений](https://s1.gifyu.com/images/SOA2T.gif)

### Скачивание вложенных к сообщению файлов:
![Скачивание файлов](https://s1.gifyu.com/images/SOA23.gif)

### После прочтения, импортированные сообщения загружаются быстрее:
![Загрузка импортированных сообщений](https://s11.gifyu.com/images/SOA2q.gif)

## Установка

### Запуск контейнера
Для установки клонируем репозиторий и в корневой папке проекта запускаем команду:
```
docker compose up
```
### Следующий этап - загрузка данных от почты в базу данных:
После успешного запуска контейнера переходим по адресу **http://localhost/admin** и авторизуемся как ***admin:admin***.
В админ-панели добавляем экземпляр модели TargetEmail, где указываем почту, пароль приложения, а также выбираем используемый сервис:
![Импортирование данных от почты в базу данных](https://s1.gifyu.com/images/SOA2L.jpg)

### Сервис готов к работе.

## Используемые технологии

Контейнер состоит из образа ***PostgreSQL***, ***Nginx*** и самого ***Django-приложения*** на ***python:3.9.20-slim***. 
Обработка сообщений происходит засчет библиотеки ***imap_tools***. 
Передача сообщений происходит засчет непрерывного ***WebSocket-соединения***. Для сериализации данных использовался ***Django Rest Framework***. Асинхронный сервер: ***daphne***.
